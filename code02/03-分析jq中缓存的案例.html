<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script type="text/javascript">
			
			// 缓存缓存, 存的是什么???
			// 键值对结构, 恶意存储数据
			// 最简单的缓存结构就是
			// var cache = {};
			// 要求写一个函数(方法), 用户提供键与值, 将其存储到缓存中
//			var fn = function( k, v ) {
//			 	cache[ k ] = v;
//			};
			
			// 如果所将提供键来访问数据
			// 1> 直接访问 cache[ k ]
			// 2> 实现函数返回
			// var foo = function( k ) { return cache[ k ]; }; 
			
			
			// 在实际开发中 缓存是常常被使用的手段
			// 缓存的尺寸一定要在一个范围之内, 例如 50 条
			var cache = (function(){
				length = 0;
				internalCache = {};
				
				return function ( k, v ) {
					// 如果传入了 v 表示存储数据, 如果只有一个 k 则读取数据
					if ( v ) {
						if ( !internalCache[ k ] ) {
							length++;
						}
						internalCache[ k ] = v;
						
					} else {
						return internalCache[ k ];
					}
				};
			})();
			
			console.log( cache( 'name' ) + ", " + length );
			
			cache( 'name', 'jim' );
			
			console.log( cache( 'name' ) + ", " + length );
			
			
			cache( 'name', 'tom' );
			
			console.log( cache( 'name' ) + ", " + length );
			
			
			for ( var i = 0; i < 100; i++) {
				
				cache( i + '', i );
			}
			
			console.log( length );
			
		</script>
	</head>
	<body>
	</body>
</html>
